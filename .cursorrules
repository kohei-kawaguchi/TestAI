# Claude Code Project Guidelines

**Read the CRITICAL CHECKLIST section of .cursorrules every time the user gives an instruction.**

---

## ğŸš¨ CRITICAL CHECKLIST

```
â–¡ REPORT THE ISSUE BEFORE FIXING, EDITING, OR EXECUTING ANYTHING
â–¡ NO GIT without explicit "commit" request
â–¡ NO TIMESTAMPS (âŒ file_20250101.py â†’ âœ… file.py)
â–¡ NO VERSIONS (âŒ file_v2.py, _old.py â†’ âœ… file.py)
â–¡ NO BACKWARD COMPATIBILITY
â–¡ TEMPORARY â†’ scripts/temporary/
â–¡ NAMED ARGUMENTS (âŒ f(x) â†’ âœ… f(value=x))
â–¡ EDIT don't CREATE
â–¡ PLAN â†’ WAIT â†’ "proceed"
â–¡ TEST â†’ show results â†’ "done"
â–¡ USE run.sh wrapper
â–¡ DELETE wrong code
```

---

## ğŸ”„ WORKFLOW

### Planning
1. Create plan â†’ Show â†’ **WAIT** for "proceed"
2. "continue" â‰  "execute"

### Testing
After code change: `./run.sh test` â†’ show results â†’ "done"

Before expensive: `pipeline-test` (100) â†’ verify S3 â†’ `pipeline-release` (1000)

### Commands
`./run.sh test` NOT `pytest`
`./run.sh solve` NOT `python scripts/...`

---

## ğŸ”§ REFACTORING

1. Grep ALL old names
2. Update ALL (source + tests) in same commit
3. Never change VALUES, only names
4. Grep verify none remain
5. Test

**Wrong code:** Delete (use git for history)

---

## ğŸ“Š REPRODUCIBILITY

### DRY
Single implementation, parameterize differences

### Config = Data
Save with models, load automatically, no hardcoding

### Stable Paths
`output/eq/` NOT `output/eq_20250927/`
`file.py` NOT `file_v2.py`

---

## ğŸ§ª TESTING

Test properties (monotonicity, bounds), not exact values

Test fails â†’ Fix code, not test

---

## ğŸ“ SPECIFICATION

1. Read spec first
2. Implement exactly (don't improvise)
3. Validate vs theory
4. Test on dummy data
5. Verify before expensive compute

**APIs:** Grep verify names exist, read implementation

---

## ğŸ¯ DECISION POINTS

"plan this" â†’ Create, show, **WAIT** for "proceed"
"continue" â†’ Ask: explaining or execute?
"Did you test?" â†’ Run tests now
Code "WRONG" â†’ Delete

---

## ğŸš« NEVER

1. Git without "commit" request
2. Execute without "proceed"
3. "done" without test results
4. Timestamps/versions in filenames
5. Positional arguments
6. Backward compatibility
7. Feature flags for wrong code

---

## ğŸ“ PRINCIPLES

1. **Complete verification** - Grep ALL, test everything
2. **Config = data** - Save/load, no hardcoding
3. **Reproducibility** - Stable paths, DRY
4. **Trust user** - Follow exactly
5. **Test first** - Before claiming done, before expensive compute

---

## ğŸ“– MORE

[README.md](README.md) - Project structure, S3, HPC4

